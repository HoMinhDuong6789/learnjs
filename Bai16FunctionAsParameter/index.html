<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // var coffeeMachine={
      //     makeCoffee:function(onFinish){
      //         console.log("making coffee");
      //         onFinish();
      //     }
      // };
      // var beep= function(){
      //     console.log("tit tick ...");
      // };
      // coffeeMachine.makeCoffee(beep);
      // //or cach 2
      // coffeeMachine.makeCoffee(function(){
      //     console.log("bla bla");
      // });
      /*
      	Viết 1 chương trình xóa đi n phần tử cuối cùng của 1 array
      */
      function removeEnd(arr, n) {
        //     var count=0;
        //   for(i=0;i>arr.length;i++){
        //       if(count<n){
        //             arr.pop();
        //             count++;
        //       }
        //   }
        //     return arr;
        var arrKq = arr.slice(0, arr.length - n);
        return arrKq;
      }
      /**
       * Viết function trả về n phần tử đầu tiên có trong mảng.
       */

      function first(arr, n) {
        if (n === undefined) return [arr[0]];
        else if (n <= 0) return [];
        else if (n <= arr.length) return arr.splice(0, n);
        else return arr;
      }
      var arr = [40, 100, 1, 5, 25, 10];
      console.log(removeEnd([2, 3, 1, 8, 9, 7], 3));
      console.log((arr, 4));
      console.log(first([1, 2, 3], 2));
      //first(arr,3);
      //print(arr);
      function print(arr) {
        for (i = 0; i < arr.length; i++) {}
      }

      function sayHello() {
        console.log("I love Coders,Tokyo");
      }

      function countAndDo(print) {
        for (i = 1; i <= 10; i++) {
          console.log(i);
        }
        print();
      }
      countAndDo(sayHello);

      function double(num) {
        // viết code ở đây.
        return num * 2;
      }

      function sumAndDo(nums, double) {
        // viết code ở đây.
        if (nums.length === 0) {
          return 0;
        } else {
          var sumOfArr = 0;
          for (i = 0; i < nums.length; i++) {
            sumOfArr += nums[i];
          }
          return double(sumOfArr);
        }
      }
      console.log(([1, 2, 3], double));
      console.log("bai 17");
      var numbers = [1, 4, 3, 5, 6];
      var squaredNumbers = numbers.map(function (x) {
        return x * x;
      });
      squaredNumbers;
      console.log(numbers);
      //bai tap
      var retangles = [
        { width: 10, height: 5 },
        { width: 2, height: 4 },
        { width: 3, height: 5 },
        { width: 19, height: 7 },
      ];

      var users = [
        {
          name: "Angelina Jolie",
          age: 80,
        },
        {
          name: "Eric Jones",
          age: 2,
        },
        {
          name: "Paris Hilton",
          age: 5,
        },
        {
          name: "Kayne West",
          age: 16,
        },
        {
          name: "Bob Ziroll",
          age: 100,
        },
      ];

      function namesOnly(arr) {
        return arr.map((i) => i.name);
      }
      function readyToPutInTheDOM(arr) {
        var result = [];
        arr.map((c) => {
          result.push("<h1>" + c.name + "</h1><h2>" + c.age + "</h2>");
        });
        return result;

        // arr.forEach((c) => {
        //   document.write("<h1>" + c.name + "</h1>");
        //   document.write("<h2>" + c.age + "</h2>");
        // });
      }
      readyToPutInTheDOM(users);

      // Lesson 18 array.filter
      //console.log("Bai18");
      var numbers = [1, 2, 3, 4, 6, 66, 7];
      var evenNumbers = numbers.filter(function (number) {
        return number % 2 === 0;
      });
      //console.log(evenNumbers);

      //bai1
      // Given an array of numbers, return a new array that has only the numbers that are 5 or greater.
      function fiveAndGreaterOnly(arr) {
        return arr.filter(function (number) {
          return number >= 5 === true;
        });
      }
      //console.log(fiveAndGreaterOnly(numbers));

      //bai2
      // Given an array of numbers, return a new array that only includes the even numbers.
      function evensOnly(arr) {
        return arr.filter(function (number) {
          return number % 2 === 0;
        });
      }

      //bai3
      /**
       * Give a list of students, filter out non-female
       */

      var members = [
        { name: "Lan", gender: "female" },
        { name: "Linh", gender: "female" },
        { name: "Trung", gender: "male" },
        { name: "Peter", gender: "gay" },
      ];
      function filterOutFemales(members) {
        var result = [];
        members.filter((c) => {
          if (c.gender !== "female") {
            result.push(c);
          }
        });
        return result;
      }
      //console.log(filterOutFemales(members));

      console.log("Bai19");
      var findEvenNumber = numbers.find(function (number) {
        return number % 2 === 0;
      });
      console.log(findEvenNumber);

      //bai1
      // Viết hàm trả về số chẵn đầu tiên trong mảng sử dụng find method
      // Nếu không tìm thấy số chẵn nào thì trả về undefined
      function findFirstEvenNumber(array) {
        var result;
        array.find(function (number) {
          return number % 2 === 0;
          //result = number;
        });
        return result;
      }

      console.log(findFirstEvenNumber(numbers));

      //bai2
      /**
       * viết hàm tìm số chia hết cho x đầu tiên có trong mảng
       * @params {array} array - Mảng các chữ số
       * @params {number} x - Số bị chia
       * Nếu không có trả về undefined
       * Example:
       * findDivisibleNum([1, 3, 4], 2) => 4
       */
      // function findDivisibleNum(array, x) {
      //   array.find(function (number) {
      //     if (number % x === 0) {
      //       return number;
      //     }
      //   });
      // }
      // console.log(findDivisibleNum([1, 2, 4], 2));

      var sumOfArr = numbers.reduce(function (a, b) {
        console.log(a, b);
        return a + b;
      });
      console.log(sumOfArr);
      // gio hang
      var orders = [
        { name: "A", quantity: 2, unitPrice: 100 },
        { name: "E", quantity: 3, unitPrice: 200 },
        { name: "R", quantity: 1, unitPrice: 400 },
        { name: "D", quantity: 5, unitPrice: 500 },
      ];
      function total(arr) {
        var builts = arr.map(function (priceOfName) {
          console.log(priceOfName.quantity * priceOfName.unitPrice);
          return priceOfName.quantity * priceOfName.unitPrice;
        });
        var totalBuilt = builts.reduce(function (built1, built2) {
          return (x = built1 + built2);
        });
        return totalBuilt;
      }
      console.log(total(orders));

      //1
      // Turn an array of voter objects into a count of how many people voted

      var voters = [
        { name: "Bob", age: 30, voted: true },
        { name: "Jake", age: 32, voted: true },
        { name: "Kate", age: 25, voted: false },
        { name: "Sam", age: 20, voted: false },
        { name: "Phil", age: 21, voted: true },
        { name: "Ed", age: 55, voted: true },
        { name: "Tami", age: 54, voted: true },
        { name: "Mary", age: 31, voted: false },
        { name: "Becky", age: 43, voted: false },
        { name: "Joey", age: 41, voted: true },
        { name: "Jeff", age: 30, voted: true },
        { name: "Zack", age: 19, voted: false },
      ];

      function totalVotes(array) {
        return array.reduce(function (count, voter) {
          return count + voter.voted;
        }, 0);
      }
      console.log(totalVotes(voters));

      //bai2
      // Given an array of all your wishlist items, figure out how much it would cost to just buy everything at once
      var wishlist = [
        {
          title: "Tesla Model S",
          price: 90000,
        },
        {
          title: "4 carat diamond ring",
          price: 45000,
        },
        {
          title: "Fancy hacky Sack",
          price: 5,
        },
        {
          title: "Gold fidgit spinner",
          price: 2000,
        },
        {
          title: "A second Tesla Model S",
          price: 90000,
        },
      ];

      function shoppingSpree(arr) {
        var totalBuilt = arr.reduce(function (sum, item) {
          return sum + item.price;
        }, 0);
        return totalBuilt;
      }
      console.log(shoppingSpree(wishlist));

      //bai3
      // Given an array of all your wishlist items, returns an array of titles

      var wishlist = [
        { title: "Tesla Model S", price: 90000 },
        { title: "4 carat diamond ring", price: 45000 },
        { title: "Fancy hacky Sack", price: 5 },
        { title: "Gold fidgit spinner", price: 2000 },
        { title: "A second Tesla Model S", price: 90000 },
      ];

      function arrayTitle(wishlist) {
        return wishlist.map(function(element){
          return element.title;
        });
      }
      console.log(arrayTitle(wishlist));
    </script>
  </body>
</html>
